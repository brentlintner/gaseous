#! /usr/bin/env bash

if ! type node &> /dev/null; then
  mkdir ~/local
  echo 'export PATH=$HOME/local/bin:$PATH' >> ~/.bashrc
  git clone --depth 1 git://github.com/ry/node.git
  cd node
  ./configure --prefix=~/local
  make install
  cd ..
  rm -rf node
  echo 'export PATH=$HOME/local/bin:$PATH' >> ~/.bashrc
fi

if ! type npm &> /dev/null; then
  git clone --depth 1 git://github.com/isaacs/npm.git
  cd npm
  make install
  cd ..
  rm -rf npm
fi

git submodule init
git submodule update
npm install jake nodeunit sinon catchjs glob argsparser
